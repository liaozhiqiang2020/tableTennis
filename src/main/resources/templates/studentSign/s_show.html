<html xmlns:th="http://www.w3.org/1999/xhtml">

<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../layui/css/layui.css">
    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../layui/layui.js"></script>
    <script src="../js/baseutil.js"></script>
</head>

<body class="hold-transition skin-blue sidebar-mini" style="text-align: center">
<section class="content-header" style="text-align: center;margin-top: 5%;margin-bottom: 5%;">
    <h1>
        学员签到管理
    </h1>
</section>

<div class="content-wrapper" style="width:85%;margin:0 auto;">
    <ul class="flow-default" id="LAY_demo1"></ul>
</div>
<!-- /.container -->
<script>
    $(document).ready(function(){

    });

    layui.use('flow', function(){
        var $ = layui.jquery; //不用额外加载jQuery，flow模块本身是有依赖jQuery的，直接用即可。
        var flow = layui.flow;
        flow.load({
            elem: '#LAY_demo1' //指定列表容器
            ,done: function(page, next){ //到达临界点（默认滚动触发），触发下一页
                var lis = [];
                //以jQuery的Ajax请求为例，请求下一页数据（注意：page是从2开始返回）
                $.post('../student/getListByPage',{page:page},function(res){
                    //假设你的列表返回在data集合中
                    layui.each(res.data, function(index, item){
                        lis.push("<div class='list-group' style='border-radius:10px;border:solid 1px #000;margin-bottom: 5px;'>" +
                            "<a href='#' class='list-group-item' onclick='details("+item.id+")'><p class='list-group-item-text'>" +item.name+" +</p></a>"+
                            "</div>");
                    });

                    //执行下一页渲染，第二参数为：满足“加载更多”的条件，即后面仍有分页
                    //pages为Ajax返回的总页数，只有当前页小于总页数的情况下，才会继续出现加载更多
                    next(lis.join(''), page < res.pages);
                });
            }
        });
    });


    function details(id){
        alert(id);
    }
</script>

</body>
</html>